<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>RT-Thread RTOS: 套接字使用</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RT-Thread RTOS
   &#160;<span id="projectnumber">3.1.0</span>
   </div>
   <div id="projectbrief">An open source embedded real-time operating system</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>首页</span></a></li>
      <li><a href="modules.html"><span>模块</span></a></li>
      <li><a href="annotated.html"><span>结构体</span></a></li>
      <li><a href="examples.html"><span>示例</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">函数</a>  </div>
  <div class="headertitle">
<div class="title">套接字使用<div class="ingroups"><a class="el" href="group___n_e_t.html">网络</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:gaf4e0711877c45a41168ac677b0670ccd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_o_c.html#gaf4e0711877c45a41168ac677b0670ccd">socket</a> (int domain, int type, int protocol)</td></tr>
<tr class="memdesc:gaf4e0711877c45a41168ac677b0670ccd"><td class="mdescLeft">&#160;</td><td class="mdescRight">创建套接字（socket）  <a href="#gaf4e0711877c45a41168ac677b0670ccd">更多...</a><br /></td></tr>
<tr class="separator:gaf4e0711877c45a41168ac677b0670ccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8dca0ad474f0bb98c58283c151d6e2e2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_o_c.html#ga8dca0ad474f0bb98c58283c151d6e2e2">bind</a> (int s, const struct sockaddr *name, socklen_t namelen)</td></tr>
<tr class="memdesc:ga8dca0ad474f0bb98c58283c151d6e2e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">绑定套接字  <a href="#ga8dca0ad474f0bb98c58283c151d6e2e2">更多...</a><br /></td></tr>
<tr class="separator:ga8dca0ad474f0bb98c58283c151d6e2e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd5137ee4523809b8e087345ff5dae6f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_o_c.html#gadd5137ee4523809b8e087345ff5dae6f">listen</a> (int s, int backlog)</td></tr>
<tr class="memdesc:gadd5137ee4523809b8e087345ff5dae6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">监听套接字  <a href="#gadd5137ee4523809b8e087345ff5dae6f">更多...</a><br /></td></tr>
<tr class="separator:gadd5137ee4523809b8e087345ff5dae6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaaf2f15c3d464ebd84caabb51920c4bc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_o_c.html#gaaaf2f15c3d464ebd84caabb51920c4bc">accept</a> (int s, struct sockaddr *addr, socklen_t *addrlen)</td></tr>
<tr class="memdesc:gaaaf2f15c3d464ebd84caabb51920c4bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">接收连接  <a href="#gaaaf2f15c3d464ebd84caabb51920c4bc">更多...</a><br /></td></tr>
<tr class="separator:gaaaf2f15c3d464ebd84caabb51920c4bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga30a78fb09c5f8eb192eb9da70babda64"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_o_c.html#ga30a78fb09c5f8eb192eb9da70babda64">connect</a> (int s, const struct sockaddr *name, socklen_t namelen)</td></tr>
<tr class="memdesc:ga30a78fb09c5f8eb192eb9da70babda64"><td class="mdescLeft">&#160;</td><td class="mdescRight">建立连接  <a href="#ga30a78fb09c5f8eb192eb9da70babda64">更多...</a><br /></td></tr>
<tr class="separator:ga30a78fb09c5f8eb192eb9da70babda64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf296883cb996248ec81fe480537e5727"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_o_c.html#gaf296883cb996248ec81fe480537e5727">send</a> (int s, const void *dataptr, size_t size, int flags)</td></tr>
<tr class="memdesc:gaf296883cb996248ec81fe480537e5727"><td class="mdescLeft">&#160;</td><td class="mdescRight">TCP 数据发送  <a href="#gaf296883cb996248ec81fe480537e5727">更多...</a><br /></td></tr>
<tr class="separator:gaf296883cb996248ec81fe480537e5727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac98728e53b98f1b22474f48ce6658749"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_o_c.html#gac98728e53b98f1b22474f48ce6658749">recv</a> (int s, void *mem, size_t len, int flags)</td></tr>
<tr class="memdesc:gac98728e53b98f1b22474f48ce6658749"><td class="mdescLeft">&#160;</td><td class="mdescRight">TCP 数据接收  <a href="#gac98728e53b98f1b22474f48ce6658749">更多...</a><br /></td></tr>
<tr class="separator:gac98728e53b98f1b22474f48ce6658749"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa3f8fd1b28c9374fae622aabdc8e7e74"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_o_c.html#gaa3f8fd1b28c9374fae622aabdc8e7e74">sendto</a> (int s, const void *dataptr, size_t size, int flags, const struct sockaddr *to, socklen_t tolen)</td></tr>
<tr class="memdesc:gaa3f8fd1b28c9374fae622aabdc8e7e74"><td class="mdescLeft">&#160;</td><td class="mdescRight">UDP 数据发送  <a href="#gaa3f8fd1b28c9374fae622aabdc8e7e74">更多...</a><br /></td></tr>
<tr class="separator:gaa3f8fd1b28c9374fae622aabdc8e7e74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0add4d77d9f1142e0256df85c5c4d992"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_o_c.html#ga0add4d77d9f1142e0256df85c5c4d992">recvfrom</a> (int s, void *mem, size_t len, int flags, struct sockaddr *from, socklen_t *fromlen)</td></tr>
<tr class="memdesc:ga0add4d77d9f1142e0256df85c5c4d992"><td class="mdescLeft">&#160;</td><td class="mdescRight">UDP 数据接收  <a href="#ga0add4d77d9f1142e0256df85c5c4d992">更多...</a><br /></td></tr>
<tr class="separator:ga0add4d77d9f1142e0256df85c5c4d992"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb704989306fb22b3586d14661a3f990"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_o_c.html#gacb704989306fb22b3586d14661a3f990">closesocket</a> (int s)</td></tr>
<tr class="memdesc:gacb704989306fb22b3586d14661a3f990"><td class="mdescLeft">&#160;</td><td class="mdescRight">关闭套接字  <a href="#gacb704989306fb22b3586d14661a3f990">更多...</a><br /></td></tr>
<tr class="separator:gacb704989306fb22b3586d14661a3f990"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8744a596bc9132c457bcce518fb854dd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_o_c.html#ga8744a596bc9132c457bcce518fb854dd">shutdown</a> (int s, int how)</td></tr>
<tr class="memdesc:ga8744a596bc9132c457bcce518fb854dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">按设置关闭套接字  <a href="#ga8744a596bc9132c457bcce518fb854dd">更多...</a><br /></td></tr>
<tr class="separator:ga8744a596bc9132c457bcce518fb854dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad5e3dc6d10cb45c3d98038a5733980c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_o_c.html#gaad5e3dc6d10cb45c3d98038a5733980c">getsockopt</a> (int s, int level, int optname, void *optval, socklen_t *optlen)</td></tr>
<tr class="memdesc:gaad5e3dc6d10cb45c3d98038a5733980c"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取套接字选项  <a href="#gaad5e3dc6d10cb45c3d98038a5733980c">更多...</a><br /></td></tr>
<tr class="separator:gaad5e3dc6d10cb45c3d98038a5733980c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f016ffafb303902b981988fdc675940"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_o_c.html#ga4f016ffafb303902b981988fdc675940">getpeername</a> (int s, struct sockaddr *name, socklen_t *namelen)</td></tr>
<tr class="memdesc:ga4f016ffafb303902b981988fdc675940"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取远端地址信息  <a href="#ga4f016ffafb303902b981988fdc675940">更多...</a><br /></td></tr>
<tr class="separator:ga4f016ffafb303902b981988fdc675940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7bafa2b03fec4e2d4e7492269b262975"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_o_c.html#ga7bafa2b03fec4e2d4e7492269b262975">getsockname</a> (int s, struct sockaddr *name, socklen_t *namelen)</td></tr>
<tr class="memdesc:ga7bafa2b03fec4e2d4e7492269b262975"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取本地地址信息  <a href="#ga7bafa2b03fec4e2d4e7492269b262975">更多...</a><br /></td></tr>
<tr class="separator:ga7bafa2b03fec4e2d4e7492269b262975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae3e7eeeeba90dea26806d0271921b048"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_o_c.html#gae3e7eeeeba90dea26806d0271921b048">ioctlsocket</a> (int s, long cmd, void *arg)</td></tr>
<tr class="memdesc:gae3e7eeeeba90dea26806d0271921b048"><td class="mdescLeft">&#160;</td><td class="mdescRight">配置套接字参数  <a href="#gae3e7eeeeba90dea26806d0271921b048">更多...</a><br /></td></tr>
<tr class="separator:gae3e7eeeeba90dea26806d0271921b048"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<h2 class="groupheader">函数说明</h2>
<a class="anchor" id="gaf4e0711877c45a41168ac677b0670ccd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int socket </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>protocol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>创建套接字（socket） </p>
<p>该函数用于根据指定的地址族、数据类型和协议来分配一个套接字描述符及其所用的资源。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">domain</td><td>协议族 </td></tr>
    <tr><td class="paramname">type</td><td>协议类型 </td></tr>
    <tr><td class="paramname">protocol</td><td>实际使用的运输层</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功，返回一个代表套接字描述符的整数；失败返回 -1。 </dd></dl>

</div>
</div>
<a class="anchor" id="ga8dca0ad474f0bb98c58283c151d6e2e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bind </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct sockaddr *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">socklen_t&#160;</td>
          <td class="paramname"><em>namelen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>绑定套接字 </p>
<p>该函数用于根据指定的地址族、数据类型和协议来分配一个套接字描述符及其所用的资源。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>套接字描述符 </td></tr>
    <tr><td class="paramname">name</td><td>指向sockaddr结构体的指针，代表要绑定的地址 </td></tr>
    <tr><td class="paramname">namelen</td><td>sockaddr结构体的长度</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>0 成功；-1 失败。 </dd></dl>

</div>
</div>
<a class="anchor" id="gadd5137ee4523809b8e087345ff5dae6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int listen </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>backlog</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>监听套接字 </p>
<p>该函数用于TCP服务器监听指定套接字连接。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>套接字描述符 </td></tr>
    <tr><td class="paramname">backlog</td><td>表示一次能够等待的最大连接数目</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>0 成功；-1 失败。 </dd></dl>

</div>
</div>
<a class="anchor" id="gaaaf2f15c3d464ebd84caabb51920c4bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int accept </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">socklen_t *&#160;</td>
          <td class="paramname"><em>addrlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>接收连接 </p>
<p>当应用程序监听来自其他主机的连接时，使用该函数初始化连接，accept()为每个 连接创立新的套接字并从监听队列中移除这个连接。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>套接字描述符 </td></tr>
    <tr><td class="paramname">addr</td><td>客户端设备地址信息 </td></tr>
    <tr><td class="paramname">addrlen</td><td>客户端设备地址结构体的长度</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功，返回新创建的套接字描述符；失败返回 -1。 </dd></dl>

</div>
</div>
<a class="anchor" id="ga30a78fb09c5f8eb192eb9da70babda64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int connect </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct sockaddr *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">socklen_t&#160;</td>
          <td class="paramname"><em>namelen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>建立连接 </p>
<p>该函数用于建立与指定socket的连接。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>套接字描述符 </td></tr>
    <tr><td class="paramname">name</td><td>服务器地址信息 </td></tr>
    <tr><td class="paramname">namelen</td><td>服务器地址结构体的长度</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>0 成功；-1 失败。 </dd></dl>

</div>
</div>
<a class="anchor" id="gaf296883cb996248ec81fe480537e5727"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int send </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>dataptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>TCP 数据发送 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>套接字描述符 </td></tr>
    <tr><td class="paramname">dataptr</td><td>要发送的数据指针 </td></tr>
    <tr><td class="paramname">size</td><td>发送的数据长度 </td></tr>
    <tr><td class="paramname">flags</td><td>标志，一般为0</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功，返回发送的数据的长度；&lt;=0 失败。 </dd></dl>

</div>
</div>
<a class="anchor" id="gac98728e53b98f1b22474f48ce6658749"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int recv </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>TCP 数据接收 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>套接字描述符 </td></tr>
    <tr><td class="paramname">mem</td><td>接收的数据指针 </td></tr>
    <tr><td class="paramname">len</td><td>接收的数据长度 </td></tr>
    <tr><td class="paramname">flags</td><td>标志，一般为0</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功，返回接收的数据的长度；0 表示目标地址已传输完并关闭连接。 </dd></dl>

</div>
</div>
<a class="anchor" id="gaa3f8fd1b28c9374fae622aabdc8e7e74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sendto </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>dataptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct sockaddr *&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">socklen_t&#160;</td>
          <td class="paramname"><em>tolen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UDP 数据发送 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>套接字描述符 </td></tr>
    <tr><td class="paramname">dataptr</td><td>发送的数据指针 </td></tr>
    <tr><td class="paramname">size</td><td>发送的数据长度 </td></tr>
    <tr><td class="paramname">flags</td><td>标志，一般为0 </td></tr>
    <tr><td class="paramname">to</td><td>目标地址结构体指针 </td></tr>
    <tr><td class="paramname">tolen</td><td>目标地址结构体长度</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功，返回发送的数据的长度；小于等于0 失败。 </dd></dl>

</div>
</div>
<a class="anchor" id="ga0add4d77d9f1142e0256df85c5c4d992"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int recvfrom </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr *&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">socklen_t *&#160;</td>
          <td class="paramname"><em>fromlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UDP 数据接收 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>套接字描述符 </td></tr>
    <tr><td class="paramname">mem</td><td>接收的数据指针 </td></tr>
    <tr><td class="paramname">len</td><td>接收的数据长度 </td></tr>
    <tr><td class="paramname">flags</td><td>标志，一般为0 </td></tr>
    <tr><td class="paramname">flags</td><td>标志，一般为0 </td></tr>
    <tr><td class="paramname">from</td><td>接收地址结构体指针 </td></tr>
    <tr><td class="paramname">fromlen</td><td>接收地址结构体长度</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功，返回接收的数据的长度；0 接收地址已传输完并关闭连接；小于0 失败。 </dd></dl>

</div>
</div>
<a class="anchor" id="gacb704989306fb22b3586d14661a3f990"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int closesocket </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>关闭套接字 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>套接字描述符</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>0 成功；-1 失败。 </dd></dl>

</div>
</div>
<a class="anchor" id="ga8744a596bc9132c457bcce518fb854dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int shutdown </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>how</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>按设置关闭套接字 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>套接字描述符 </td></tr>
    <tr><td class="paramname">how</td><td>套接字控制的方式</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>0 成功；-1 失败。 </dd></dl>

</div>
</div>
<a class="anchor" id="gaad5e3dc6d10cb45c3d98038a5733980c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getsockopt </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>optname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>optval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">socklen_t *&#160;</td>
          <td class="paramname"><em>optlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取套接字选项 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>套接字描述符 </td></tr>
    <tr><td class="paramname">level</td><td>协议栈配置选项 </td></tr>
    <tr><td class="paramname">optname</td><td>需要设置的选项名 </td></tr>
    <tr><td class="paramname">optval</td><td>获取选项值的缓冲区地址 </td></tr>
    <tr><td class="paramname">optlen</td><td>获取选项值的缓冲区长度地址</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>0 成功；小于0 失败。 </dd></dl>

</div>
</div>
<a class="anchor" id="ga4f016ffafb303902b981988fdc675940"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getpeername </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">socklen_t *&#160;</td>
          <td class="paramname"><em>namelen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取远端地址信息 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>套接字描述符 </td></tr>
    <tr><td class="paramname">name</td><td>接收信息的地址结构体指针 </td></tr>
    <tr><td class="paramname">namelen</td><td>接收信息的地址结构体长度</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>0 成功；小于0 失败。 </dd></dl>

</div>
</div>
<a class="anchor" id="ga7bafa2b03fec4e2d4e7492269b262975"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getsockname </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">socklen_t *&#160;</td>
          <td class="paramname"><em>namelen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取本地地址信息 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>套接字描述符 </td></tr>
    <tr><td class="paramname">name</td><td>接收信息的地址结构体指针 </td></tr>
    <tr><td class="paramname">namelen</td><td>接收信息的地址结构体长度</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>0 成功；小于0 失败。 </dd></dl>

</div>
</div>
<a class="anchor" id="gae3e7eeeeba90dea26806d0271921b048"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ioctlsocket </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>配置套接字参数 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>套接字描述符 </td></tr>
    <tr><td class="paramname">cmd</td><td>套接字操作命令 </td></tr>
    <tr><td class="paramname">arg</td><td>操作命令所带参数</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>0 成功；小于0 失败。 </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
生成于 2018年 十月 25日 星期四 00:39:49 , 为 RT-Thread RTOS使用  &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
